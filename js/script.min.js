var popups=document.querySelectorAll(".modal"),feedbackButton=document.querySelector(".contacts-feedback-button"),mapButton=document.querySelector(".contacts-map-button"),buyButton=document.querySelectorAll(".button-buy"),feedbackForm=document.querySelector(".modal-feedback-form"),mapModal=document.querySelector(".modal-map"),orderModal=document.querySelector(".modal-order");if("NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,o){o=o||window;for(var t=0;t<this.length;t++)e.call(o,this[t],t,this)}),popups.forEach(function(o){o.querySelector(".modal-close").addEventListener("click",function(e){e.preventDefault(),o.classList.remove("modal-show"),o.classList.remove("modal-error")})}),window.addEventListener("keydown",function(e){if(27===e.keyCode){e.preventDefault();var o=document.querySelector(".modal.modal-show");null!==o&&(o.classList.remove("modal-show"),o.classList.remove("modal-error"))}}),null!==feedbackButton&&null!==feedbackForm){var formFields=feedbackForm.querySelectorAll("[name]"),name=feedbackForm.querySelector("[name=name]"),email=feedbackForm.querySelector("[name=email]"),message=feedbackForm.querySelector("[name=message]");feedbackButton.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.add("modal-show"),name.focus()}),formFields.forEach(function(e){!0===e.required&&(e.required=!1)}),feedbackForm.addEventListener("submit",function(e){name.value&&email.value&&message.value||(e.preventDefault(),feedbackForm.classList.remove("modal-error"),feedbackForm.offsetWidth=feedbackForm.offsetWidth,feedbackForm.classList.add("modal-error"))})}null!==mapButton&&null!==mapModal&&mapButton.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal-show")}),buyButton.length&&null!==orderModal&&buyButton.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),orderModal.classList.add("modal-show")})});
